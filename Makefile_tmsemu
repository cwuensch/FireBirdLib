PROJECT = libFireBird_tmsemu

DIRS = av compression debug elf EPG ExtAttribs Firmware flash FontManager hdd ini InstructionSequences LogoManager main rec shutdown string StringDB tap tapcom time TMSOSDMenu TMSOSDKeyboard tmsvfd

BASE = $(shell cd /tapapi/TMS; pwd)
include ${BASE}/include/tool_tmsemu.mk

all:
	@for i in $(DIRS); \
	do \
	  cd $$i; \
	  make --file=Makefile_tmsemu all; \
	  cd ..; \
	done
	-$(RM) $(PROJECT).a
	@for i in $(DIRS); \
	do \
	  $(AR) -r $(PROJECT).a $$i/*.o; \
	done
	@$(RANLIB) $(PROJECT).a

clean:
	@for i in $(DIRS); do cd $$i; make clean; cd ..; done
